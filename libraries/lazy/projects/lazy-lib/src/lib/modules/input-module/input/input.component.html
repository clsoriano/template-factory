<div [formGroup]="fgroup" [hidden]="inputElement.hidden">

    <mat-form-field [ngClass]="divParent.class" 
                [style]="divParent.style" 
                [appearance]="inputElement.appareance"
                [floatLabel]="inputElement.floatLabel">
    
        <mat-label>{{ inputElement.label }}</mat-label>

        <input matInput maskDirective trim [id]="inputElement.id" 
                [type]="inputElement.type"            
                [formControlName]="inputElement.id"
                [placeholder]="inputElement.placeholder" 
                [alt]="inputElement.alt"
                [ngClass]="inputElement.class"
                [style]="inputElement.style"
                [autofocus]="inputElement.autofocus"
                [autocomplete]="inputElement.autocomplete"
                [maxlength]="inputElement.maxlength || 255"
                [errorStateMatcher]="matcher"
                (input)="_handleInput(fgroup.controls[inputElement.id], $event)"
                [control]="inputElement"
                (blur)="_handleBlur(fgroup.controls[inputElement.id])">
        
        <mat-hint>
            {{ inputElement.hint }}
        </mat-hint>
        
        <!-- Errors on input -->
        <mat-error>
            {{ getError() }}
        </mat-error>
        

        <!-- Icon position validation -->
        <ng-template [ngIf]="inputElement.icon">

            <ng-template [ngIf]="inputElement.iconPosition == 'prefix'" [ngIfElse]="suffix">
                <mat-icon matPrefix>
                    {{inputElement.icon}}
                </mat-icon>
            </ng-template>

            <ng-template #suffix>
                <mat-icon matSuffix>
                    {{inputElement.icon}}
                </mat-icon>
            </ng-template>

        </ng-template>

    </mat-form-field>
    
</div>